{% extends 'admin_layout.html' %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/notification.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/delete_modal.css') }}">
{% endblock css %}
{% block main %}

<div class="report-container">
    <div class="report-header">
        <h1 class="recent-Articles">Recent Notification</h1>
    </div>

    <div class="report-body">
        <div class="report-topic-heading" id="tag3">
            <h3 class="t-op" id="phone-tag">Phone</h3>
            <h3 class="t-op">View</h3>
            <h3 class="t-op">Delete</h3>
        </div>


        {% for message in messages.items %}
        <div class="items" id="tag5">
            <div class="item1" id="tag3">
                <h3 class="t-op-nextlvl" id="phone-tag">{{ message.phone}}</h3>
                <a href="{{ url_for('getnotification', id=message.id)}}" class="t-op-nextlvl label-tag"
         >View</a>

         <button class="delete-button" onclick="openModal('{{ message.id }}')">Delete</button>

         <div id="delete-modal" class="modal">
             <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal"></span>
             <form class="modal-content" action="{{ url_for('deletenotification')}}" method="POST">
                <input type="hidden" id="item-id" name="item_id" value="">
                 <div class="container">
                 <p>Are you sure you want to delete this image?</p>
                 <div class="clearfix">
                     <button type="button" onclick="closeModal()" class="cancelbtn">Cancel</button>
                     <button type="submit" class="deletebtn">Delete</button>
                 </div>
                 </div>
             </form>
             </div>
             </div>
            </div>

            {% endfor %}

        </div>
    </div>
</div>
</div>


<script>
// Get the modal
var modal = document.getElementById("delete-modal");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal
function openModal(itemId) {
    modal.style.display = "block";
    document.getElementById("item-id").value = itemId;
}

// When the user clicks on <span> (x), close the modal
function closeModal() {
    modal.style.display = "none";
    document.getElementById("item-id").value = "";
}
    </script>
{% endblock main %}